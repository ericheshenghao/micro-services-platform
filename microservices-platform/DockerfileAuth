FROM fabric8/java-alpine-openjdk8-jdk:1.8.0

# 将jar包添加到容器中并更名为app.jar
ADD ./siques-oauth/target/siques-oauth-4.2.0.jar siques-oauth.jar
ADD ./docker-compose/skywalking skywalking
EXPOSE 8984
# 运行jar包
#RUN sh -c 'touch /core-business.jar'
RUN apk add --update ttf-dejavu fontconfig
ENTRYPOINT ["java","-jar","/siques-oauth.jar","--spring.profiles.active=prod","-javaagent:skywalking/skywalking-agent.jar","-Dskywalking.trace.ignore_path=/actuator/**" ,"-Dskywalking.agent.service_name=uaa-server"," -Dskywalking.collector.backend_service=139.198.189.114:11800"]